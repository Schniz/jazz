export const metadata = { title: "Providers" };

import { CodeGroup } from "@/components/forMdx";

# Providers

## Introduction

`<JazzProvider />` is the core component that connects your React application to Jazz. It handles:

- **Data Synchronization**: Manages connections to peers and the Jazz cloud
- **Local Storage**: Persists data locally between app sessions
- **Schema Types**: Provides APIs for the [AccountSchema](/docs/schemas/accounts-and-migrations)
- **Authentication**: Connects your authentication system to Jazz

## Setting up the Provider 

The `<JazzProvider />` accepts several configuration options:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { Account, co } from "jazz-tools";

export class MyAppAccount extends Account {
  name = co.string;
}

// @filename: app.tsx
import * as React from "react";
// ---cut---
// App.tsx
import { JazzProvider } from "jazz-react";
import { MyAppAccount } from "./schema";

export function MyJazzProvider({ children }: { children: React.ReactNode }) {
  return (
    <JazzProvider
      sync={{ peer: "wss://cloud.jazz.tools/?key=your-api-key" }}
  AccountSchema={MyAppAccount}
>
      {children}
    </JazzProvider>
  );
}

// Register the Account schema so `useAccount` returns our custom `MyAppAccount`
declare module "jazz-react" {
  interface Register {
    Account: MyAppAccount;
  }
}
```
</CodeGroup>

## Provider Options

### Sync Options

The `sync` property configures how your application connects to the Jazz network:

<CodeGroup>
```tsx
sync={{
  // Required: Connection to Jazz Cloud or your own sync server
  peer: "wss://cloud.jazz.tools/?key=your-api-key",
  
  // Optional: Additional peers to connect to
  peers: ["wss://other-peer.example.com"],
  
  // Optional: Reconnection configuration
  reconnect: {
    maxAttempts: 5,
    initialDelay: 1000,
    maxDelay: 30000
  }
}}
```
</CodeGroup>

### Account Schema

The `AccountSchema` property defines your application's account structure:

<CodeGroup>
```tsx
import { Account } from "jazz-tools";
import { co } from "jazz-tools";

// Define your custom account schema
class MyAppAccount extends Account {
  name = co.string;
  preferences = co.object({
    theme: co.string,
    notifications: co.boolean
  });
}

// Use in provider
<JazzProvider AccountSchema={MyAppAccount}>
  {children}
</JazzProvider>

// Register type for useAccount
declare module "jazz-react" {
  interface Register {
    Account: MyAppAccount;
  }
}
```
</CodeGroup>

## Authentication

The `<JazzProvider />` works with various authentication methods to enable users to access their data across multiple devices. For a complete guide to authentication, see our [Authentication Overview](/docs/authentication/overview).

## Need Help?

If you have questions about configuring the Jazz Provider for your specific use case, [join our Discord community](https://discord.gg/utDMjHYg42) for help.